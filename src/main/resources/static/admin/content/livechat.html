<link href="/admin/css/chat.css" rel="stylesheet">

<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Tư vấn trực tuyến</h1>
</div>

<div class="chat-container">
    <div class="chat-sidebar">
        <div style="padding: 20px; border-bottom: 1px solid #ddd; font-weight:bold; color:#5a5c69;">
            <i class="fas fa-inbox mr-2"></i> Hộp thư đến
        </div>
        <div class="chat-list" id="admin-chat-list">
            <div style="text-align:center; padding:20px; color:#aaa;">
                <i class="fas fa-spinner fa-spin"></i> Đang tải danh sách...
            </div>
        </div>
    </div>

    <div class="chat-main">
        <div class="chat-main-header">
            <span id="active-chat-user">
                <i class="fas fa-comments"></i> Chọn một khách hàng để bắt đầu
            </span>
            <span id="active-service-info" style="font-weight:normal; font-size:13px; color:#858796;"></span>
        </div>
        
        <div class="chat-messages-area" id="admin-messages-area">
            </div>
        
        <div class="chat-input-area">
            <input type="text" id="admin-input" placeholder="Nhập câu trả lời..." autocomplete="off" disabled>
            
            <button class="btn btn-primary btn-circle" id="admin-send-btn" disabled>
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
</div>
<style>
  /* static/admin/css/chat.css */
.chat-container { display: flex; height: 80vh; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
.chat-sidebar { width: 320px; border-right: 1px solid #ddd; display: flex; flex-direction: column; background: #fff; }
.chat-list { flex: 1; overflow-y: auto; }
.chat-item { padding: 15px; border-bottom: 1px solid #f1f1f1; cursor: pointer; transition: 0.2s; position: relative; }
.chat-item:hover { background: #f8f9fc; }
.chat-item.active { background: #eaecf4; border-left: 4px solid #4e73df; }
.chat-item h4 { margin: 0; font-size: 15px; color: #333; font-weight: 600; display: flex; justify-content: space-between; }
.chat-item p { margin: 5px 0 0; font-size: 13px; color: #888; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.service-tag { background: #e3f2fd; color: #1976d2; padding: 2px 8px; border-radius: 4px; font-size: 11px; margin-top: 6px; display: inline-block; font-weight: 500;}

.chat-main { flex: 1; display: flex; flex-direction: column; background: #fff; }
.chat-main-header { padding: 15px 20px; border-bottom: 1px solid #ddd; background: #f8f9fc; font-weight: 700; color: #4e73df; display: flex; align-items: center; justify-content: space-between; }
.chat-messages-area { flex: 1; padding: 20px; overflow-y: auto; background: #fafafa; display: flex; flex-direction: column; gap: 10px; }
.chat-input-area { padding: 20px; border-top: 1px solid #ddd; display: flex; gap: 15px; background: white; }
.chat-input-area input { flex: 1; padding: 12px 20px; border: 1px solid #d1d3e2; border-radius: 30px; outline: none; transition: 0.3s; }
.chat-input-area input:focus { border-color: #4e73df; box-shadow: 0 0 0 3px rgba(78,115,223,0.1); }

.msg { max-width: 75%; padding: 12px 18px; border-radius: 18px; font-size: 14px; line-height: 1.5; position: relative; word-wrap: break-word; }
.msg.incoming { background: #e9ecef; color: #333; align-self: flex-start; border-bottom-left-radius: 4px; }
.msg.outgoing { background: #4e73df; color: white; align-self: flex-end; border-bottom-right-radius: 4px; }
.msg-time { font-size: 10px; margin-top: 4px; opacity: 0.7; display: block; text-align: right; }
</style>
